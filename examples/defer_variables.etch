// Test defer with variable access
// Defer should be able to access variables from the enclosing scope

fn test_defer_variables() -> void {
    let x = 10;
    let y = 20;

    print("Start");
    print(toString(x));
    print(toString(y));

    defer {
        print("Defer x");
        print(toString(x));
        print("Defer y");
        print(toString(y));
    }

    print("End");
}

fn main() -> int {
    test_defer_variables();
    defer{ print("Main Defer"); }
    return 0;
}
