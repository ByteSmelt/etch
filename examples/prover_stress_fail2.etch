// Stress test failure: Complex OR with one branch out of bounds

fn testComplexOrWithBadBranch() -> int {
  let arr: array[int] = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];
  let input = readFile("examples/data/input.txt");
  let maybeX = input.parseInt();

  let x = match maybeX {
    some(value) => value;
    none => 0;
  };

  // One branch is safe [0,4], but the other [15,19] is out of bounds
  if (x >= 0 and x < 5) or (x >= 15 and x < 20) {
    return arr[x];  // âŒ Should fail! x could be [15,19]
  }

  return -1;
}

fn main() -> void {
  print(toString(testComplexOrWithBadBranch()));
}
